[gd_scene format=3 uid="uid://t5vu4gl0ra8x"]

[ext_resource type="PackedScene" uid="uid://c6x7gv2lqeu1x" path="res://Scenes/Prefabs/Entities/Objects/VerticalPlatform.tscn" id="1_nwvxx"]
[ext_resource type="Texture2D" uid="uid://dfpbjnd1o5tig" path="res://Assets/Sprites/Tilesets/OnOffPlatform.png" id="2_iy32g"]
[ext_resource type="JSON" path="res://Assets/Sprites/Tilesets/OnOffPlatform.json" id="3_50hv7"]
[ext_resource type="Script" uid="uid://cb0spbe0l8mof" path="res://Scripts/Classes/Components/AnimationPauser.gd" id="3_iy32g"]
[ext_resource type="Script" uid="uid://364rywt44hy6" path="res://Scripts/Classes/UI/PackSprite.gd" id="4_0jnxm"]
[ext_resource type="Script" uid="uid://q45b31h6356r" path="res://Scripts/Classes/Components/OnOffSwitcher.gd" id="6_onaos"]

[node name="OnOffSidewaysPlatform" unique_id=705799312 instance=ExtResource("1_nwvxx")]

[node name="Sprite" parent="AnimatableBody2D" parent_id_path=PackedInt32Array(1298238089) index="0" unique_id=1526890355]
offset_left = -20.0
offset_right = 20.0
texture = ExtResource("2_iy32g")
region_rect = Rect2(0, 0, 24, 8)

[node name="ResourceSetter" parent="AnimatableBody2D/Sprite" index="0" unique_id=1827702455]
resource_json = ExtResource("3_50hv7")

[node name="Sprite2D" type="Sprite2D" parent="AnimatableBody2D/Sprite" index="1" unique_id=1627706176]
position = Vector2(16, 0)
texture = ExtResource("2_iy32g")
centered = false
hframes = 2
region_enabled = true
region_rect = Rect2(24, 0, 16, 8)
script = ExtResource("4_0jnxm")
metadata/_custom_type_script = "uid://364rywt44hy6"

[node name="AnimationPauser" type="Node" parent="." index="4" unique_id=608336505 node_paths=PackedStringArray("animation_player")]
script = ExtResource("3_iy32g")
animation_player = NodePath("../AnimationPlayer")
paused = true
metadata/_custom_type_script = "uid://cb0spbe0l8mof"

[node name="OnOffSwitcher" type="Node" parent="." index="5" unique_id=1963753984]
script = ExtResource("6_onaos")
metadata/_custom_type_script = "uid://q45b31h6356r"

[connection signal="just_paused" from="AnimationPauser" to="AnimatableBody2D/Sprite/Sprite2D" method="set_frame" binds= [0]]
[connection signal="resumed" from="AnimationPauser" to="AnimatableBody2D/Sprite/Sprite2D" method="set_frame" binds= [1]]
[connection signal="switched_off" from="OnOffSwitcher" to="AnimationPauser" method="pause"]
[connection signal="switched_on" from="OnOffSwitcher" to="AnimationPauser" method="resume"]
