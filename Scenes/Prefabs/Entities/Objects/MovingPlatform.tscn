[gd_scene load_steps=11 format=3 uid="uid://cx2310jyd3fnv"]

[ext_resource type="Texture2D" uid="uid://bk0p52ttwojml" path="res://Assets/Sprites/Tilesets/Platform.png" id="1_637rn"]
[ext_resource type="Script" uid="uid://dnptn1i31npjc" path="res://Scripts/Classes/Entities/Objects/MovingPlatform.gd" id="1_om2jg"]
[ext_resource type="Script" uid="uid://cbal8ms2oe1ik" path="res://Scripts/Classes/Components/ResourceSetterNew.gd" id="2_om2jg"]
[ext_resource type="JSON" path="res://Assets/Sprites/Tilesets/Platform.json" id="3_cjdml"]
[ext_resource type="Script" uid="uid://ctfbuoxtnnl0q" path="res://Scripts/Classes/Components/EditorPropertyExposer.gd" id="5_cjdml"]
[ext_resource type="PackedScene" uid="uid://dse5pwhodrqcr" path="res://Scenes/Prefabs/Editor/EditorProperties/TilePropertyIntRangeSpin.tscn" id="6_svgdm"]
[ext_resource type="Texture2D" uid="uid://dpdrrkqtcedgm" path="res://Assets/Sprites/Tilesets/DottedLine.png" id="7_vsshs"]
[ext_resource type="Script" uid="uid://b8vmbtoaaq5nc" path="res://Scripts/Parts/EditorToggleDetection.gd" id="8_5vlu6"]
[ext_resource type="Texture2D" uid="uid://dfpbjnd1o5tig" path="res://Assets/Sprites/Tilesets/OnOffPlatform.png" id="9_ni7i0"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_svgdm"]
resource_local_to_scene = true
size = Vector2(32, 8)

[node name="MovingPlatform" type="AnimatableBody2D" unique_id=285771311]
process_mode = 3
physics_interpolation_mode = 2
collision_layer = 3
sync_to_physics = false
script = ExtResource("1_om2jg")

[node name="Sprite" type="NinePatchRect" parent="." unique_id=1840586283]
unique_name_in_owner = true
offset_left = -16.0
offset_right = 16.0
offset_bottom = 8.0
texture = ExtResource("1_637rn")
patch_margin_left = 8
patch_margin_right = 8
axis_stretch_horizontal = 1

[node name="ResourceSetter" type="Node" parent="Sprite" unique_id=1692721610 node_paths=PackedStringArray("node_to_affect")]
script = ExtResource("2_om2jg")
node_to_affect = NodePath("..")
property_name = "texture"
mode = 1
resource_json = ExtResource("3_cjdml")
metadata/_custom_type_script = "uid://cbal8ms2oe1ik"

[node name="CollisionShape2D" type="CollisionShape2D" parent="." unique_id=1046612248]
position = Vector2(0, 4)
shape = SubResource("RectangleShape2D_svgdm")

[node name="EditorPropertyExposer" type="Node" parent="." unique_id=1975160876]
script = ExtResource("5_cjdml")
properties = Array[String](["target_x", "target_y", "length", "speed"])
properties_force_selector = Dictionary[String, PackedScene]({
"target_x": ExtResource("6_svgdm"),
"target_y": ExtResource("6_svgdm")
})
metadata/_custom_type_script = "uid://ctfbuoxtnnl0q"

[node name="Line" type="Line2D" parent="." unique_id=531388326]
top_level = true
texture_repeat = 2
points = PackedVector2Array(0, 0, 64, -8)
width = 2.0
texture = ExtResource("7_vsshs")
texture_mode = 1

[node name="Projection" type="NinePatchRect" parent="." unique_id=1165185292]
unique_name_in_owner = true
modulate = Color(1, 1, 1, 0.5)
top_level = true
offset_left = -16.0
offset_right = 16.0
offset_bottom = 8.0
texture = ExtResource("1_637rn")
patch_margin_left = 8
patch_margin_right = 8
axis_stretch_horizontal = 1

[node name="ResourceSetter" type="Node" parent="Projection" unique_id=888381645 node_paths=PackedStringArray("node_to_affect")]
script = ExtResource("2_om2jg")
node_to_affect = NodePath("..")
property_name = "texture"
mode = 1
resource_json = ExtResource("3_cjdml")
metadata/_custom_type_script = "uid://cbal8ms2oe1ik"

[node name="LevelEditorToggleDetection" type="Node" parent="." unique_id=1245014865]
script = ExtResource("8_5vlu6")
metadata/_custom_type_script = "uid://b8vmbtoaaq5nc"

[node name="OnOffToggle" type="Sprite2D" parent="." unique_id=175323262]
visible = false
position = Vector2(0, 4)
texture = ExtResource("9_ni7i0")
hframes = 2
frame = 1
region_enabled = true
region_rect = Rect2(24, 0, 16, 8)

[connection signal="level_start" from="LevelEditorToggleDetection" to="." method="_ready"]
